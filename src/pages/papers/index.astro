---
import { SITE } from "@config";
import Papers from "@layouts/Papers.astro";
import getSortedPapers from "@utils/getSortedPapers";
import getPageNumbers from "@utils/getPageNumbers";

import { getCollection } from "astro:content";

const papers = await getCollection("papers");

const sortedPapers = getSortedPapers(papers);

const totalPages = getPageNumbers(sortedPapers.length);

const paginatedPapers = sortedPapers.slice(0, SITE.papersPerPage);
---

<Papers papers={paginatedPapers} pageNum={1} totalPages={totalPages.length} />
